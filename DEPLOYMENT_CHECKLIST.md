# Deployment Configuration Checklist
(Generated by AI Analysis of Cross-Origin Setup)

Your setup involves a **Split Domain Architecture**:
- **Frontend:** `https://virtualquickconnect.vercel.app`
- **Backend:** `https://quickconnectvirtualprovider-production.up.railway.app`

Because these are completely different domains (`.vercel.app` vs `.railway.app`), browsers treat them as "Cross-Site". This causes two major issues: **CORS** (blocking requests) and **Cookies** (blocking login).

## 1. Railway Variables (Backend)
Go to **Railway Dashboard** -> **Settings** -> **Variables** and ensure these EXACT values are set.

| Variable Name | Value | Reason |
| :--- | :--- | :--- |
| `CORS_ALLOWED_ORIGINS` | `https://virtualquickconnect.vercel.app` | Allows the browser to send requests. |
| `SANCTUM_STATEFUL_DOMAINS` | `virtualquickconnect.vercel.app` | Tells Laravel to issue cookies for this domain. |
| `SESSION_DOMAIN` | `.railway.app` | (Optional) Helps cookie scope, but usually `null` is safer for cross-site. |
| `SESSION_SECURE_COOKIE` | `true` | **CRITICAL**. Cookies MUST be secure to work cross-site. |
| `SESSION_SAME_SITE` | `none` | **CRITICAL**. Allows cookies to be sent from Vercel to Railway. |

**⚠️ Important:** If `SESSION_SAME_SITE` is not set to `none`, users will log in, get a 200 OK, but immediately be logged out on the next page refresh.

## 2. Vercel Variables (Frontend)
Go to **Vercel Dashboard** -> **Settings** -> **Environment Variables**.

| Variable Name | Value |
| :--- | :--- |
| `NEXT_PUBLIC_API_URL` | `https://quickconnectvirtualprovider-production.up.railway.app` |

## 3. The "Safari" Problem
Even with the settings above, Safari (and Chrome Incognito) often blocks **all third-party cookies**. behavior:
- User logs in -> Success.
- User refreshes -> Logged out.

**The Only 100% Fix:**
Use a **Custom Domain** so both share the same root.
- Frontend: `app.yourdomain.com`
- Backend: `api.yourdomain.com`

If you cannot buy a domain yet, the settings above are the best possible configuration for free domains.
